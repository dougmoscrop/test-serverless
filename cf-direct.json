{
	"AWSTemplateFormatVersion": "2010-09-09",
	"Resources": {
		"HttpApi": {
			"Type": "AWS::ApiGatewayV2::Api",
			"Properties": {
				"Name": "cloud-formation-test-specific",
				"Description": "Test from CloudFormation",
				"ProtocolType": "HTTP"
			}
		},
		"Integration1": {
			"Type": "AWS::ApiGatewayV2::Integration",
			"Properties": {
				"ApiId": { "Ref": "HttpApi" },
				"IntegrationType": "AWS_PROXY",
				"IntegrationUri": "arn:aws:lambda:us-east-1:992311060759:function:test-http-api-dev-function",
				"PayloadFormatVersion": "1.0"
			}
		},
		"Route1": {
			"Type": "AWS::ApiGatewayV2::Route",
			"Properties": {
				"ApiId": { "Ref": "HttpApi" },
				"RouteKey": "GET /foo",
				"Target": { "Fn::Join": ["/", ["integrations", { "Ref": "Integration1" }]] }
			},
			"DependsOn": "Integration1"
		},
		"Stage": {
			"Type": "AWS::ApiGatewayV2::Stage",
			"Properties": { "ApiId": { "Ref": "HttpApi" }, "StageName": "dev", "AutoDeploy": true }
		},
		"Stage2": {
			"Type": "AWS::ApiGatewayV2::Stage",
			"Properties": { "ApiId": { "Ref": "HttpApi" }, "StageName": "dev2", "AutoDeploy": true }
		}
	}
}
