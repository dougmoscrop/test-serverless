service: test-lambda-for-s3-events

provider:
  name: aws
  runtime: nodejs10.x
  versionFunctions: false

package:
  individually: true

functions:
  function:
    handler: index.handler
    events:
      - s3: test-for-s3-events

resources:
  Resources:
    S3BucketTestfors3events:
      Type: AWS::S3::Bucket
      Properties:
        BucketName: test-for-s3-events

    FunctionLambdaPermissionTestfors3eventsS3:
      Type: "AWS::Lambda::Permission"
      Properties:
        FunctionName:
          "Fn::GetAtt":
            - FunctionLambdaFunction
            - Arn
        Principal: s3.amazonaws.com
        Action: lambda:InvokeFunction
        SourceAccount:
          Ref: AWS::AccountId
        SourceArn: arn:aws:s3:::test-for-s3-events

plugins:
  - serverless-plugin-reducer
